# ELB

Elastic Load Balancing はマネージド型のロードバランシングサービスで、EC2インスタンスの処理を分散する際に利用する

## 特徴

- インスタンス間の負荷を分散
- パブリックとプライベート両方とも可能
- ELB自体もキャパシティを自動増減する
- 従量課金
- マネージドサービス (ELBは単一障害点にならない)

## 用語説明

- ヘルスチェック
  - EC2インスタンスの正常・以上を確認して振り分ける
- 負荷分散
  - EC2の負荷に応じて、複数AZにまたがって負荷分散を行う
- SSLサポート
- スティッキーセッション
- Connection Draining
- S3へのログ保管
- ELBのタイプ
  - CLB (Classic Load Balancer)
    - 昔のELBで、複雑な設定ができない
	- 複数機能に対するバランシングができない
  - ALB (Application Load Balancer)
    - レイヤー7の対応が強化された単一ロードバランサー
	- コンテナもバランシングが可能
	- パスルーティングにより複数機能のバランシングが可能
  - NLB (Network Load Balancer)
    - 超低遅延で高スループットを維持しながら秒間何百万リクエストをさばく新しいロードバランサー
	
## Auto-Scaling

インスタンスのトラフィック量を超えるときに、処理サーバーを拡張する

- スケーリングタイプ
  - 垂直スケーリング
    - メモリやCPUの増強、追加などの増減
  - 水平スケーリング (Auto-scaling)
    - 処理する機器台数の増減
- Auto-Scalingグループ
  - 起動インスタンスの最大最小数の設定
  - AZ間で起動台数をバランシング
  - AZ自体の障害も補足
- Auto-Scaling configuration
  - スケールアウト時のインスタンス内容の設定 (インスタンス作成時のものと基本的に同じ)
- Auto-Scaling Plan
  - どのようにスケールするかを定義
  - 手動スケーリング、スケジュールベース、動的スケーリング


