# VPC

Virtual Private Cloudはユーザーが定義した仮想ネットワークをAWS内に構築するサービス

## 用語説明

- CIDR (Classless Inter-Domain Routing)
  - IPアドレスの範囲は16が推奨 (広く、多すぎない)
  - AWSで既に使われていることによって使えないアドレスもある
- サブネット
  - CIDR範囲で分割したネットワークセグメント
  - パブリックサブネット
    - インターネットと接続が必要な場合
	- インターネットゲートウェイと接続することで、インターネットに接続できる
  - プライベートサブネット
    - セキュリティが高い
	- NATゲートウェイをパブリックサブネットに用意して、そこからインターネットに接続できる
- ルートテーブル
  - パケットの行き先を設定
  - VPCはCIDRアドレス (プライベートアドレス) でルーティング
- エンドポイント
  - VPCの外部にあるリソースと通信することができる
- VPCトラフィック設定
  - セキュリティグループ設定
    - ステートフルなため、戻りトラフィックの考慮いらず
	- すべてのルールを適用
  - ネットワークACLs設定
    - ステートレスなため、戻りトラフィックも許可設定が必要
	- 番号の順序通りに適用
- Direct Connect
  - 専用線を介してAWSへプライベート接続する
  - ネットワークの信頼性、帯域幅がよい
  - Direct Connectロケーションに自社機器を物理的に接続する
  - VPNよりは割高
- Direct Connect gateway
  - 同一アカウントのリージョンをまたいで、複数のVPCが接続される
- VPC Peering
  - VPC peering2つのVPC間の接続が可能 (異なるAWSアカウント、リージョンの異なるVPC間も可能)
